type Query {
	test: String!
	user(id: Int!): User!
	changeLogById(id: Int!): ChangeLog!
	changeLogs: [ChangeLog]!
	chatGroup(id: Int!): ChatGroup!
	hasChat(userId: Int!, chatId: Int!): Boolean!
}

type Mutation {
	signup(user: UserInput!): User!
	login(credentials: LoginInput!): LoginReturn
	verifyEmail(token: String!): Boolean!
	createChat(chat: CreateChatInput!): Chat!
	createChatGroup(chatGroup: CreateChatGroupInput!): ChatGroup!
	addNewChangeLog(newChangeLog: newChangeLog!): ChangeLog!
	editChangeLog(id: Int!, editChangeLog: newChangeLog): ChangeLog
}

input CreateChatInput {
	name: String!
	isPublic: Boolean!
	userId: Int!
}

input CreateChatGroupInput {
	name: String!
	isPublic: Boolean!
	userId: Int!
}

input LoginInput {
	username: String
	email: String
	password: String!
}

type ChangeLog {
	id: Int!
	body: String!
	changes: [String!]!
	created_at: String!
	updated_at: String!
	version: String!
}

type LoginReturn {
	authenticated: Boolean!
	token: String!
}

input newChangeLog {
	body: String!
	changes: [String!]!
	version: String!
}

input UserInput {
	email: String!
	name: String!
	username: String!
	password: String!
}

type schema {
	query: Query
}

type User {
	id: Int!
	email: String!
	name: String!
	username: String!
	key: String!
	chatGroups: [ChatGroup!]!
	createdAt: String!
	verified: Boolean!
}

type ChatGroup {
	id: Int!
	name: String!
	isPublic: Boolean!
	createdAt: String!
	chats: [Chat]!
	createdBy: Int!
}

type Chat {
	id: Int!
	name: String!
	isPublic: Boolean!
	createdById: Int!
	messages: [Message]!
}

type Message {
	id: Int!
	body: String!
	authorId: Int!
	chatId: Int!
	createdAt: String!
}
